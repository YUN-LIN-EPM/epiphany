kind: epiphany-cluster
version: 0.3.0
title: "Epiphany cluster Config"
provider: aws
name: "EpiphanyCluster01"
specification:
  vnet_address_pool: 10.1.0.0/22 # this could be skipped - default
  admin_user:
    name: operations
    key_path: /root/.ssh/epiphany-operations/id_rsa
  cloud:
    subscription_name: PGGA-Epiphany-DEV
    resource_group_name: EpiphanyCluster
    service_principal: # todo change it to get credentials from vault
      key: 3124-4124-4124
      secret: DADFAFHCJHCAUYEAk
  components:
    kubernetes_master:
      machine: my-custom-for-master
      subnet_address_pool: 10.1.1.0/24 # this could be skipped - default
    kubernetes_node:
      count: 3
      subnet_address_pool: 10.1.2.0/24 # this could be skipped - default
    kafka:
      count: 0
      subnet_address_pool: 10.1.3.0/24 # this could be skipped - default
    postgresql:
      count: 0
      subnet_address_pool: 10.1.3.0/24 # this could be skipped - default
    load_balancer:
      subnet_address_pool: 10.1.10.0/24 # this could be skipped - default
    monitoring:
      count: 0
    logging:
      count: 0

---
kind: infrastructure/virtual-machine
version: 0.3.0
title: "Virtual Machine Infra"
provider: aws
name: my-custom-for-master
specification:
  size: t3.micro


